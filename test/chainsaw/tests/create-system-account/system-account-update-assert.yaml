---
apiVersion: mariadb.openstack.org/v1beta1
kind: MariaDBAccount
metadata:
  labels:
    dbName: openstack
  name: chainsawdb-some-system-db-account
status:
  currentSecret: some-new-system-db-secret
  conditions:
  - message: Setup complete
    reason: Ready
    status: "True"
    type: Ready
  - message: MariaDBAccount creation complete
    reason: Ready
    status: "True"
    type: MariaDBAccountReady
  - message: MariaDB / Galera server ready
    reason: Ready
    status: "True"
    type: MariaDBServerReady
---
apiVersion: v1
kind: Secret
metadata:
  name: some-new-system-db-secret
  # ensure finalizer was added to new secret
  finalizers:
  - openstack.org/mariadbaccount
type: Opaque
---
apiVersion: v1
kind: Secret
metadata:
  name: some-system-db-secret
  # ensure finalizer was removed from old secret (field should not exist)
  (finalizers): null
type: Opaque
